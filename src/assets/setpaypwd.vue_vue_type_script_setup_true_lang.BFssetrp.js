import{d as e,r as l,c as a,e as o,f as t,t as d,u as s,a as n,b as r,n as i,v as p}from"./index-Duwb82h8.js";import{o as u}from"./uni-app.es.D2cl9MrP.js";import{f as m}from"./user.DzJKUk0Z.js";const c=e({__name:"setpaypwd",setup(e){const c=l(""),w=l(""),v=l(""),h=uni.getStorageSync("token");function y(){return e=this,l=null,a=function*(){if(w.value==v.value)try{const e=yield m({old_pwd:c.value,new_pwd:w.value,id:h,password_confirm:v.value});console.log(e),p.success(`${i("pwd.200")}`)}catch(e){console.log(e),p.error(i(`pwd.${e.code}`))}else uni.showToast({title:i("pwd.405"),icon:"none"})},new Promise(((o,t)=>{var d=e=>{try{n(a.next(e))}catch(l){t(l)}},s=e=>{try{n(a.throw(e))}catch(l){t(l)}},n=e=>e.done?o(e.value):Promise.resolve(e.value).then(d,s);n((a=a.apply(e,l)).next())}));var e,l,a}return u((e=>{e.id})),(e,l)=>{const p=n("el-input");return r(),a("div",null,[o("div",{style:{"text-align":"left",width:"100%","max-width":"400px",color:"white"},'"':""},[o("div",{style:{"margin-bottom":"20px"}},[o("div",null,d(s(i)("zfmm.old"))+"：",1),t(p,{modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=e=>c.value=e),style:{width:"100%"},type:"password",placeholder:s(i)("qsrmm"),maxlength:4,"show-password":""},null,8,["modelValue","placeholder"])]),o("div",{style:{"margin-bottom":"20px"}},[o("div",null,d(s(i)("zfmm.new"))+"：",1),t(p,{modelValue:w.value,"onUpdate:modelValue":l[1]||(l[1]=e=>w.value=e),style:{width:"100%"},type:"password",maxlength:4,placeholder:s(i)("qsrmm"),"show-password":""},null,8,["modelValue","placeholder"])]),o("div",{style:{"margin-bottom":"20px"}},[o("div",null,d(s(i)("zfmm.new1"))+"：",1),t(p,{modelValue:v.value,"onUpdate:modelValue":l[2]||(l[2]=e=>v.value=e),style:{width:"100%"},type:"password",placeholder:s(i)("qsrmm"),maxlength:4,"show-password":""},null,8,["modelValue","placeholder"])])]),o("div",{onClick:y,style:{"margin-top":"20px"}},[o("div",{style:{width:"300px","border-radius":"10px",background:"linear-gradient(90deg, #df35ad, #4f1db5)",padding:"10px 0"}},[o("div",{style:{width:"100%"}},d(s(i)("zfmm.tj")),1)])])])}}});export{c as _};
