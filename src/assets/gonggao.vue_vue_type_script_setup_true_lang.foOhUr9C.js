var t,e,s,r,i=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,c=(t,e,s)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,d=(t,e)=>{for(var s in e||(e={}))n.call(e,s)&&c(t,s,e[s]);if(l)for(var s of l(e))h.call(e,s)&&c(t,s,e[s]);return t},u=(t,e)=>a(t,o(e));import{_ as g,a as p,j as m,b as f,g as b,c as y,F as v,h as k,A as x,X as T,Y as C,Z as w,O as S,C as _,s as $,t as N,$ as D,f as A,a0 as R,a1 as I,a2 as L,a3 as O,a4 as B,a5 as j,d as z,M as F,i as V,r as E,e as M,u as P,J as H}from"./index-Duwb82h8.js";import{o as W,r as q}from"./uni-app.es.D2cl9MrP.js";import{c as G}from"./user.DzJKUk0Z.js";var U={abbr:!0,b:!0,big:!0,code:!0,del:!0,em:!0,i:!0,ins:!0,label:!0,q:!0,small:!0,span:!0,strong:!0,sub:!0,sup:!0};const Z={isInline:function(t,e){return U[t]||-1!==(e||"").indexOf("display:inline")}},Q=t=>{t.$wxs||(t.$wxs=[]),t.$wxs.push("handler"),t.mixins||(t.mixins=[]),t.mixins.push({beforeCreate(){this.handler=Z}})},J={name:"node",options:{},data:()=>({ctrl:{}}),props:{name:String,attrs:{type:Object,default:()=>({})},childs:Array,opts:Array},components:{},mounted(){if(this.$nextTick((()=>{for(this.root=this.$parent;"mp-html"!==this.root.$options.name;this.root=this.root.$parent);})),this.opts[0]){let t;for(t=this.childs.length;t--&&"img"!==this.childs[t].name;);-1!==t&&(this.observer=uni.createIntersectionObserver(this).relativeToViewport({top:500,bottom:500}),this.observer.observe("._img",(t=>{t.intersectionRatio&&(this.$set(this.ctrl,"load",1),this.observer.disconnect())})))}},beforeDestroy(){this.observer&&this.observer.disconnect()},methods:{play(t){if(this.root.$emit("play"),this.root.pauseVideo){let e=!1;const s=t.target.id;for(let t=this.root._videos.length;t--;)this.root._videos[t].id===s?e=!0:this.root._videos[t].pause();if(!e){const t=uni.createVideoContext(s,this);t.id=s,this.root.playbackRate&&t.playbackRate(this.root.playbackRate),this.root._videos.push(t)}}},imgTap(t){const e=this.childs[t.currentTarget.dataset.i];e.a?this.linkTap(e.a):e.attrs.ignore||(e.attrs.src=e.attrs.src||e.attrs["data-src"],this.root.$emit("imgtap",e.attrs),this.root.previewImg&&uni.previewImage({current:parseInt(e.attrs.i),urls:this.root.imgList}))},imgLongTap(t){},imgLoad(t){const e=t.currentTarget.dataset.i;(this.opts[1]&&!this.ctrl[e]||-1===this.ctrl[e])&&this.$set(this.ctrl,e,1),this.checkReady()},checkReady(){this.root&&!this.root.lazyLoad&&(this.root._unloadimgs-=1,this.root._unloadimgs||setTimeout((()=>{this.root.getRect().then((t=>{this.root.$emit("ready",t)})).catch((()=>{this.root.$emit("ready",{})}))}),350))},linkTap(t){const e=t.currentTarget?this.childs[t.currentTarget.dataset.i]:{},s=e.attrs||t,r=s.href;this.root.$emit("linktap",Object.assign({innerText:this.root.getText(e.children||[])},s)),r&&("#"===r[0]?this.root.navigateTo(r.substring(1)).catch((()=>{})):r.split("?")[0].includes("://")?this.root.copyLink&&window.open(r):uni.navigateTo({url:r,fail(){uni.switchTab({url:r,fail(){}})}}))},mediaError(t){const e=t.currentTarget.dataset.i,s=this.childs[e];if("video"===s.name||"audio"===s.name){let t=(this.ctrl[e]||0)+1;if(t>s.src.length&&(t=0),t<s.src.length)return void this.$set(this.ctrl,e,t)}else if("img"===s.name){if(this.opts[0]&&!this.ctrl.load)return;this.opts[2]&&this.$set(this.ctrl,e,-1),this.checkReady()}this.root&&this.root.$emit("error",{source:s.name,attrs:s.attrs})}}};Q(J);const K=g(J,[["render",function(t,e,s,r,i,a){const o=T,l=_,n=p("node",!0),h=D,c=R,d=I;return f(),m(h,{id:s.attrs.id,class:S("_block _"+s.name+" "+s.attrs.class),style:C(s.attrs.style)},{default:b((()=>[(f(!0),y(v,null,k(s.childs,((r,u)=>(f(),y(v,{key:u},["img"===r.name&&!r.t&&(s.opts[1]&&!i.ctrl[u]||i.ctrl[u]<0)?(f(),m(o,{key:0,class:"_img",style:C(r.attrs.style),src:i.ctrl[u]<0?s.opts[2]:s.opts[1],mode:"widthFix"},null,8,["style","src"])):x("",!0),"img"===r.name?(f(),y("img",{key:1,id:r.attrs.id,class:S("_img "+r.attrs.class),style:C((-1===i.ctrl[u]?"display:none;":"")+r.attrs.style),src:r.attrs.src||(i.ctrl.load?r.attrs["data-src"]:""),"data-i":u,onLoad:e[0]||(e[0]=(...t)=>a.imgLoad&&a.imgLoad(...t)),onError:e[1]||(e[1]=(...t)=>a.mediaError&&a.mediaError(...t)),onClick:e[2]||(e[2]=w(((...t)=>a.imgTap&&a.imgTap(...t)),["stop"])),onLongpress:e[3]||(e[3]=(...t)=>a.imgLongTap&&a.imgLongTap(...t))},null,46,["id","src","data-i"])):r.text?(f(),m(l,{key:2,decode:""},{default:b((()=>[$(N(r.text),1)])),_:2},1024)):"br"===r.name?(f(),m(l,{key:3},{default:b((()=>[$("\\n")])),_:1})):"a"===r.name?(f(),m(h,{key:4,id:r.attrs.id,class:S((r.attrs.href?"_a ":"")+r.attrs.class),"hover-class":"_hover",style:C("display:inline;"+r.attrs.style),"data-i":u,onClick:w(a.linkTap,["stop"])},{default:b((()=>[A(n,{name:"span",childs:r.children,opts:s.opts,style:{display:"inherit"}},null,8,["childs","opts"])])),_:2},1032,["id","class","style","data-i","onClick"])):"video"===r.name?(f(),m(c,{key:5,id:r.attrs.id,class:S(r.attrs.class),style:C(r.attrs.style),autoplay:r.attrs.autoplay,controls:r.attrs.controls,loop:r.attrs.loop,muted:r.attrs.muted,"object-fit":r.attrs["object-fit"],poster:r.attrs.poster,src:r.src[i.ctrl[u]||0],"data-i":u,onPlay:a.play,onError:a.mediaError},null,8,["id","class","style","autoplay","controls","loop","muted","object-fit","poster","src","data-i","onPlay","onError"])):"iframe"===r.name?(f(),y("iframe",{key:6,style:C(r.attrs.style),allowfullscreen:r.attrs.allowfullscreen,frameborder:r.attrs.frameborder,src:r.attrs.src},null,12,["allowfullscreen","frameborder","src"])):"embed"===r.name?(f(),y("embed",{key:7,style:C(r.attrs.style),src:r.attrs.src},null,12,["src"])):"table"===r.name&&r.c||"li"===r.name?(f(),m(h,{key:8,id:r.attrs.id,class:S("_"+r.name+" "+r.attrs.class),style:C(r.attrs.style)},{default:b((()=>["li"===r.name?(f(),m(n,{key:0,childs:r.children,opts:s.opts},null,8,["childs","opts"])):(f(!0),y(v,{key:1},k(r.children,((t,e)=>(f(),m(h,{key:e,class:S("_"+t.name+" "+t.attrs.class),style:C(t.attrs.style)},{default:b((()=>["td"===t.name||"th"===t.name?(f(),m(n,{key:0,childs:t.children,opts:s.opts},null,8,["childs","opts"])):(f(!0),y(v,{key:1},k(t.children,((t,e)=>(f(),y(v,{key:e},["td"===t.name||"th"===t.name?(f(),m(h,{key:0,class:S("_"+t.name+" "+t.attrs.class),style:C(t.attrs.style)},{default:b((()=>[A(n,{childs:t.children,opts:s.opts},null,8,["childs","opts"])])),_:2},1032,["class","style"])):(f(),m(h,{key:1,class:S("_"+t.name+" "+t.attrs.class),style:C(t.attrs.style)},{default:b((()=>[(f(!0),y(v,null,k(t.children,((t,e)=>(f(),m(h,{key:e,class:S("_"+t.name+" "+t.attrs.class),style:C(t.attrs.style)},{default:b((()=>[A(n,{childs:t.children,opts:s.opts},null,8,["childs","opts"])])),_:2},1032,["class","style"])))),128))])),_:2},1032,["class","style"]))],64)))),128))])),_:2},1032,["class","style"])))),128))])),_:2},1032,["id","class","style"])):r.c||t.handler.isInline(r.name,r.attrs.style)?2===r.c?(f(),m(h,{key:10,id:r.attrs.id,class:S("_block _"+r.name+" "+r.attrs.class),style:C(r.f+";"+r.attrs.style)},{default:b((()=>[(f(!0),y(v,null,k(r.children,((t,e)=>(f(),m(n,{key:e,style:C(t.f),name:t.name,attrs:t.attrs,childs:t.children,opts:s.opts},null,8,["style","name","attrs","childs","opts"])))),128))])),_:2},1032,["id","class","style"])):(f(),m(n,{key:11,style:C(r.f),name:r.name,attrs:r.attrs,childs:r.children,opts:s.opts},null,8,["style","name","attrs","childs","opts"])):(f(),m(d,{key:9,id:r.attrs.id,style:C(r.f),"user-select":s.opts[4],nodes:[r]},null,8,["id","style","user-select","nodes"]))],64)))),128))])),_:1},8,["id","class","style"])}],["__scopeId","data-v-e10fa90f"]]),X={trustTags:rt("a,abbr,ad,audio,b,blockquote,br,code,col,colgroup,dd,del,dl,dt,div,em,fieldset,h1,h2,h3,h4,h5,h6,hr,i,img,ins,label,legend,li,ol,p,q,ruby,rt,source,span,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,title,ul,video"),blockTags:rt("address,article,aside,body,caption,center,cite,footer,header,html,nav,pre,section"),ignoreTags:rt("area,base,canvas,embed,frame,head,iframe,input,link,map,meta,param,rp,script,source,style,textarea,title,track,wbr"),voidTags:rt("area,base,br,col,circle,ellipse,embed,frame,hr,img,input,line,link,meta,param,path,polygon,rect,source,track,use,wbr"),entities:{lt:"<",gt:">",quot:'"',apos:"'",ensp:" ",emsp:" ",nbsp:" ",semi:";",ndash:"–",mdash:"—",middot:"·",lsquo:"‘",rsquo:"’",ldquo:"“",rdquo:"”",bull:"•",hellip:"…",larr:"←",uarr:"↑",rarr:"→",darr:"↓"},tagStyle:{address:"font-style:italic",big:"display:inline;font-size:1.2em",caption:"display:table-caption;text-align:center",center:"text-align:center",cite:"font-style:italic",dd:"margin-left:40px",mark:"background-color:yellow",pre:"font-family:monospace;white-space:pre",s:"text-decoration:line-through",small:"display:inline;font-size:0.8em",strike:"text-decoration:line-through",u:"text-decoration:underline"},svgDict:{animatetransform:"animateTransform",lineargradient:"linearGradient",viewbox:"viewBox",attributename:"attributeName",repeatcount:"repeatCount",repeatdur:"repeatDur"}},Y={},{windowWidth:tt}=uni.getSystemInfoSync(),et=rt(" ,\r,\n,\t,\f");let st=0;function rt(t){const e=Object.create(null),s=t.split(",");for(let r=s.length;r--;)e[s[r]]=!0;return e}function it(t,e){let s=t.indexOf("&");for(;-1!==s;){const r=t.indexOf(";",s+3);let i;if(-1===r)break;"#"===t[s+1]?(i=parseInt(("x"===t[s+2]?"0":"")+t.substring(s+2,r)),isNaN(i)||(t=t.substr(0,s)+String.fromCharCode(i)+t.substr(r+1))):(i=t.substring(s+1,r),(X.entities[i]||"amp"===i&&e)&&(t=t.substr(0,s)+(X.entities[i]||"&")+t.substr(r+1))),s=t.indexOf("&",s+1)}return t}function at(t){let e=t.length-1;for(let s=e;s>=-1;s--)(-1===s||t[s].c||!t[s].name||"div"!==t[s].name&&"p"!==t[s].name&&"h"!==t[s].name[0]||(t[s].attrs.style||"").includes("inline"))&&(e-s>=5&&t.splice(s+1,e-s,{name:"div",attrs:{},children:t.slice(s+1,e+1)}),e=s-1)}function ot(t){this.options=t||{},this.tagStyle=Object.assign({},X.tagStyle,this.options.tagStyle),this.imgList=t.imgList||[],this.imgList._unloadimgs=0,this.plugins=t.plugins||[],this.attrs=Object.create(null),this.stack=[],this.nodes=[],this.pre=(this.options.containerStyle||"").includes("white-space")&&this.options.containerStyle.includes("pre")?2:0}function lt(t){this.handler=t}X.ignoreTags.iframe=void 0,X.trustTags.iframe=!0,X.ignoreTags.embed=void 0,X.trustTags.embed=!0,ot.prototype.parse=function(t){for(let e=this.plugins.length;e--;)this.plugins[e].onUpdate&&(t=this.plugins[e].onUpdate(t,X)||t);for(new lt(this).parse(t);this.stack.length;)this.popNode();return this.nodes.length>50&&at(this.nodes),this.nodes},ot.prototype.expose=function(){for(let t=this.stack.length;t--;){const e=this.stack[t];if(e.c||"a"===e.name||"video"===e.name||"audio"===e.name)return;e.c=1}},ot.prototype.hook=function(t){for(let e=this.plugins.length;e--;)if(this.plugins[e].onParse&&!1===this.plugins[e].onParse(t,this))return!1;return!0},ot.prototype.getUrl=function(t){const e=this.options.domain;return"/"===t[0]?"/"===t[1]?t=(e?e.split("://")[0]:"http")+":"+t:e&&(t=e+t):t.includes("data:")||t.includes("://")||e&&(t=e+"/"+t),t},ot.prototype.parseStyle=function(t){const e=t.attrs,s=(this.tagStyle[t.name]||"").split(";").concat((e.style||"").split(";")),r={};let i="";e.id&&!this.xml&&(this.options.useAnchor?this.expose():"img"!==t.name&&"a"!==t.name&&"video"!==t.name&&"audio"!==t.name&&(e.id=void 0)),e.width&&(r.width=parseFloat(e.width)+(e.width.includes("%")?"%":"px"),e.width=void 0),e.height&&(r.height=parseFloat(e.height)+(e.height.includes("%")?"%":"px"),e.height=void 0);for(let a=0,o=s.length;a<o;a++){const t=s[a].split(":");if(t.length<2)continue;const e=t.shift().trim().toLowerCase();let o=t.join(":").trim();if("-"===o[0]&&o.lastIndexOf("-")>0||o.includes("safe"))i+=`;${e}:${o}`;else if(!r[e]||o.includes("import")||!r[e].includes("import")){if(o.includes("url")){let t=o.indexOf("(")+1;if(t){for(;'"'===o[t]||"'"===o[t]||et[o[t]];)t++;o=o.substr(0,t)+this.getUrl(o.substr(t))}}else o.includes("rpx")&&(o=o.replace(/[0-9.]+\s*rpx/g,(t=>parseFloat(t)*tt/750+"px")));r[e]=o}}return t.attrs.style=i,r},ot.prototype.onTagName=function(t){this.tagName=this.xml?t:t.toLowerCase(),"svg"===this.tagName&&(this.xml=(this.xml||0)+1,X.ignoreTags.style=void 0)},ot.prototype.onAttrName=function(t){"data-"===(t=this.xml?t:t.toLowerCase()).substr(0,5)?"data-src"!==t||this.attrs.src?"img"===this.tagName||"a"===this.tagName?this.attrName=t:this.attrName=void 0:this.attrName="src":(this.attrName=t,this.attrs[t]="T")},ot.prototype.onAttrVal=function(t){const e=this.attrName||"";"style"===e||"href"===e?this.attrs[e]=it(t,!0):e.includes("src")?this.attrs[e]=this.getUrl(it(t,!0)):e&&(this.attrs[e]=t)},ot.prototype.onOpenTag=function(t){const e=Object.create(null);e.name=this.tagName,e.attrs=this.attrs,this.options.nodes.length&&(e.type="node"),this.attrs=Object.create(null);const s=e.attrs,r=this.stack[this.stack.length-1],i=r?r.children:this.nodes,a=this.xml?t:X.voidTags[e.name];if(Y[e.name]&&(s.class=Y[e.name]+(s.class?" "+s.class:"")),"embed"===e.name&&this.expose(),"video"!==e.name&&"audio"!==e.name||("video"!==e.name||s.id||(s.id="v"+st++),s.controls||s.autoplay||(s.controls="T"),e.src=[],s.src&&(e.src.push(s.src),s.src=void 0),this.expose()),a){if(!this.hook(e)||X.ignoreTags[e.name])return void("base"!==e.name||this.options.domain?"source"===e.name&&r&&("video"===r.name||"audio"===r.name)&&s.src&&r.src.push(s.src):this.options.domain=s.href);const t=this.parseStyle(e);if("img"===e.name){if(s.src&&(s.src.includes("webp")&&(e.webp="T"),s.src.includes("data:")&&!s["original-src"]&&(s.ignore="T"),!s.ignore||e.webp||s.src.includes("cloud://"))){for(let i=this.stack.length;i--;){const r=this.stack[i];"a"===r.name&&(e.a=r.attrs),"table"!==r.name||e.webp||s.src.includes("cloud://")||(!t.display||t.display.includes("inline")?e.t="inline-block":e.t=t.display,t.display=void 0),r.c=1}s.i=this.imgList.length.toString();let r=s["original-src"]||s.src;this.imgList.push(r),e.t||(this.imgList._unloadimgs+=1),this.options.lazyLoad&&(s["data-src"]=s.src,s.src=void 0)}"inline"===t.display&&(t.display=""),s.ignore&&(t["max-width"]=t["max-width"]||"100%",s.style+=";-webkit-touch-callout:none"),parseInt(t.width)>tt&&(t.height=void 0),isNaN(parseInt(t.width))||(e.w="T"),!isNaN(parseInt(t.height))&&(!t.height.includes("%")||r&&(r.attrs.style||"").includes("height"))&&(e.h="T")}else if("svg"===e.name)return i.push(e),this.stack.push(e),void this.popNode();for(const e in t)t[e]&&(s.style+=`;${e}:${t[e].replace(" !important","")}`);s.style=s.style.substr(1)||void 0}else("pre"===e.name||(s.style||"").includes("white-space")&&s.style.includes("pre"))&&2!==this.pre&&(this.pre=e.pre=1),e.children=[],this.stack.push(e);i.push(e)},ot.prototype.onCloseTag=function(t){let e;for(t=this.xml?t:t.toLowerCase(),e=this.stack.length;e--&&this.stack[e].name!==t;);if(-1!==e)for(;this.stack.length>e;)this.popNode();else if("p"===t||"br"===t){(this.stack.length?this.stack[this.stack.length-1].children:this.nodes).push({name:t,attrs:{class:Y[t]||"",style:this.tagStyle[t]||""}})}},ot.prototype.popNode=function(){const t=this.stack.pop();let e=t.attrs;const s=t.children,r=this.stack[this.stack.length-1],i=r?r.children:this.nodes;if(!this.hook(t)||X.ignoreTags[t.name])return"title"===t.name&&s.length&&"text"===s[0].type&&this.options.setTitle&&uni.setNavigationBarTitle({title:s[0].text}),void i.pop();if(t.pre&&2!==this.pre){this.pre=t.pre=void 0;for(let t=this.stack.length;t--;)this.stack[t].pre&&(this.pre=1)}const a={};if("svg"===t.name){if(this.xml>1)return void this.xml--;let s="";const r=e.style;return e.style="",e.xmlns="http://www.w3.org/2000/svg",function t(e){if("text"===e.type)return void(s+=e.text);const r=X.svgDict[e.name]||e.name;s+="<"+r;for(const i in e.attrs){const t=e.attrs[i];t&&(s+=` ${X.svgDict[i]||i}="${t}"`)}if(e.children){s+=">";for(let s=0;s<e.children.length;s++)t(e.children[s]);s+="</"+r+">"}else s+="/>"}(t),t.name="img",t.attrs={src:"data:image/svg+xml;utf8,"+s.replace(/#/g,"%23"),style:r,ignore:"T"},t.children=void 0,this.xml=!1,void(X.ignoreTags.style=!0)}if(e.align&&("table"===t.name?"center"===e.align?a["margin-inline-start"]=a["margin-inline-end"]="auto":a.float=e.align:a["text-align"]=e.align,e.align=void 0),e.dir&&(a.direction=e.dir,e.dir=void 0),"font"===t.name&&(e.color&&(a.color=e.color,e.color=void 0),e.face&&(a["font-family"]=e.face,e.face=void 0),e.size)){let t=parseInt(e.size);isNaN(t)||(t<1?t=1:t>7&&(t=7),a["font-size"]=["x-small","small","medium","large","x-large","xx-large","xxx-large"][t-1]),e.size=void 0}if((e.class||"").includes("align-center")&&(a["text-align"]="center"),Object.assign(a,this.parseStyle(t)),"table"!==t.name&&parseInt(a.width)>tt&&(a["max-width"]="100%",a["box-sizing"]="border-box"),X.blockTags[t.name]?t.name="div":X.trustTags[t.name]||this.xml||(t.name="span"),"a"===t.name||"ad"===t.name||"iframe"===t.name)this.expose();else if("video"===t.name)(a.height||"").includes("auto")&&(a.height=void 0);else if("ul"!==t.name&&"ol"!==t.name||!t.c){if("table"===t.name){let r=parseFloat(e.cellpadding),i=parseFloat(e.cellspacing);const o=parseFloat(e.border),l=a["border-color"],n=a["border-style"];if(t.c&&(isNaN(r)&&(r=2),isNaN(i)&&(i=2)),o&&(e.style+=`;border:${o}px ${n||"solid"} ${l||"gray"}`),t.flag&&t.c){a.display="grid",i?(a["grid-gap"]=i+"px",a.padding=i+"px"):o&&(e.style+=";border-left:0;border-top:0");const h=[],c=[],d=[],u={};!function t(e){for(let s=0;s<e.length;s++)"tr"===e[s].name?c.push(e[s]):t(e[s].children||[])}(s);for(let t=1;t<=c.length;t++){let e=1;for(let s=0;s<c[t-1].children.length;s++){const a=c[t-1].children[s];if("td"===a.name||"th"===a.name){for(;u[t+"."+e];)e++;let s=a.attrs.style||"",c=s.indexOf("width")?s.indexOf(";width"):0;if(-1!==c){let t=s.indexOf(";",c+6);-1===t&&(t=s.length),a.attrs.colspan||(h[e]=s.substring(c?c+7:6,t)),s=s.substr(0,c)+s.substr(t)}if(s+=";display:flex",c=s.indexOf("vertical-align"),-1!==c){const t=s.substr(c+15,10);t.includes("middle")?s+=";align-items:center":t.includes("bottom")&&(s+=";align-items:flex-end")}else s+=";align-items:center";if(c=s.indexOf("text-align"),-1!==c){const t=s.substr(c+11,10);t.includes("center")?s+=";justify-content: center":t.includes("right")&&(s+=";justify-content: right")}if(s=(o?`;border:${o}px ${n||"solid"} ${l||"gray"}`+(i?"":";border-right:0;border-bottom:0"):"")+(r?`;padding:${r}px`:"")+";"+s,a.attrs.colspan&&(s+=`;grid-column-start:${e};grid-column-end:${e+parseInt(a.attrs.colspan)}`,a.attrs.rowspan||(s+=`;grid-row-start:${t};grid-row-end:${t+1}`),e+=parseInt(a.attrs.colspan)-1),a.attrs.rowspan){s+=`;grid-row-start:${t};grid-row-end:${t+parseInt(a.attrs.rowspan)}`,a.attrs.colspan||(s+=`;grid-column-start:${e};grid-column-end:${e+1}`);for(let s=1;s<a.attrs.rowspan;s++)for(let r=0;r<(a.attrs.colspan||1);r++)u[t+s+"."+(e-r)]=1}s&&(a.attrs.style=s),d.push(a),e++}}if(1===t){let t="";for(let s=1;s<e;s++)t+=(h[s]?h[s]:"auto")+" ";a["grid-template-columns"]=t}}t.children=d}else t.c&&(a.display="table"),isNaN(i)||(a["border-spacing"]=i+"px"),(o||r)&&function t(e){for(let s=0;s<e.length;s++){const i=e[s];"th"===i.name||"td"===i.name?(o&&(i.attrs.style=`border:${o}px ${n||"solid"} ${l||"gray"};${i.attrs.style||""}`),r&&(i.attrs.style=`padding:${r}px;${i.attrs.style||""}`)):i.children&&t(i.children)}}(s);if(this.options.scrollTable&&!(e.style||"").includes("inline")){const s=Object.assign({},t);t.name="div",t.attrs={style:"overflow:auto"},t.children=[s],e=s.attrs}}else if("td"!==t.name&&"th"!==t.name||!e.colspan&&!e.rowspan)if("ruby"===t.name){t.name="span";for(let t=0;t<s.length-1;t++)"text"===s[t].type&&"rt"===s[t+1].name&&(s[t]={name:"div",attrs:{style:"display:inline-block;text-align:center"},children:[{name:"div",attrs:{style:"font-size:50%;"+(s[t+1].attrs.style||"")},children:s[t+1].children},s[t]]},s.splice(t+1,1))}else t.c&&function(t){t.c=2;for(let e=t.children.length;e--;){const s=t.children[e];s.c&&"table"!==s.name||(t.c=1)}}(t);else for(let l=this.stack.length;l--;)if("table"===this.stack[l].name){this.stack[l].flag=1;break}}else{const t={a:"lower-alpha",A:"upper-alpha",i:"lower-roman",I:"upper-roman"};t[e.type]&&(e.style+=";list-style-type:"+t[e.type],e.type=void 0);for(let e=s.length;e--;)"li"===s[e].name&&(s[e].c=1)}if((a.display||"").includes("flex")&&!t.c)for(let l=s.length;l--;){const t=s[l];t.f&&(t.attrs.style=(t.attrs.style||"")+t.f,t.f=void 0)}const o=r&&((r.attrs.style||"").includes("flex")||(r.attrs.style||"").includes("grid"))&&!t.c;o&&(t.f=";max-width:100%"),s.length>=50&&t.c&&!(a.display||"").includes("flex")&&at(s);for(const l in a)if(a[l]){const s=`;${l}:${a[l].replace(" !important","")}`;o&&(l.includes("flex")&&"flex-direction"!==l||"align-self"===l||l.includes("grid")||"-"===a[l][0]||l.includes("width")&&s.includes("%"))?(t.f+=s,"width"===l&&(e.style+=";width:100%")):e.style+=s}e.style=e.style.substr(1)||void 0},ot.prototype.onText=function(t){if(!this.pre){let e,s="";for(let r=0,i=t.length;r<i;r++)et[t[r]]?(" "!==s[s.length-1]&&(s+=" "),"\n"!==t[r]||e||(e=!0)):s+=t[r];if(" "===s){if(e)return;{const t=this.stack[this.stack.length-1];if(t&&"t"===t.name[0])return}}t=s}const e=Object.create(null);if(e.type="text",e.text=it(t),this.hook(e)){(this.stack.length?this.stack[this.stack.length-1].children:this.nodes).push(e)}},lt.prototype.parse=function(t){this.content=t||"",this.i=0,this.start=0,this.state=this.text;for(let e=this.content.length;-1!==this.i&&this.i<e;)this.state()},lt.prototype.checkClose=function(t){const e="/"===this.content[this.i];return!!(">"===this.content[this.i]||e&&">"===this.content[this.i+1])&&(t&&this.handler[t](this.content.substring(this.start,this.i)),this.i+=e?2:1,this.start=this.i,this.handler.onOpenTag(e),"script"===this.handler.tagName?(this.i=this.content.indexOf("</",this.i),-1!==this.i&&(this.i+=2,this.start=this.i),this.state=this.endTag):this.state=this.text,!0)},lt.prototype.text=function(){if(this.i=this.content.indexOf("<",this.i),-1===this.i)return void(this.start<this.content.length&&this.handler.onText(this.content.substring(this.start,this.content.length)));const t=this.content[this.i+1];if(t>="a"&&t<="z"||t>="A"&&t<="Z")this.start!==this.i&&this.handler.onText(this.content.substring(this.start,this.i)),this.start=++this.i,this.state=this.tagName;else if("/"===t||"!"===t||"?"===t){this.start!==this.i&&this.handler.onText(this.content.substring(this.start,this.i));const e=this.content[this.i+2];if("/"===t&&(e>="a"&&e<="z"||e>="A"&&e<="Z"))return this.i+=2,this.start=this.i,void(this.state=this.endTag);let s="--\x3e";"!"===t&&"-"===this.content[this.i+2]&&"-"===this.content[this.i+3]||(s=">"),this.i=this.content.indexOf(s,this.i),-1!==this.i&&(this.i+=s.length,this.start=this.i)}else this.i++},lt.prototype.tagName=function(){if(et[this.content[this.i]]){for(this.handler.onTagName(this.content.substring(this.start,this.i));et[this.content[++this.i]];);this.i<this.content.length&&!this.checkClose()&&(this.start=this.i,this.state=this.attrName)}else this.checkClose("onTagName")||this.i++},lt.prototype.attrName=function(){let t=this.content[this.i];if(et[t]||"="===t){this.handler.onAttrName(this.content.substring(this.start,this.i));let e="="===t;const s=this.content.length;for(;++this.i<s;)if(t=this.content[this.i],!et[t]){if(this.checkClose())return;if(e)return this.start=this.i,void(this.state=this.attrVal);if("="!==this.content[this.i])return this.start=this.i,void(this.state=this.attrName);e=!0}}else this.checkClose("onAttrName")||this.i++},lt.prototype.attrVal=function(){const t=this.content[this.i],e=this.content.length;if('"'===t||"'"===t){if(this.start=++this.i,this.i=this.content.indexOf(t,this.i),-1===this.i)return;this.handler.onAttrVal(this.content.substring(this.start,this.i))}else for(;this.i<e;this.i++){if(et[this.content[this.i]]){this.handler.onAttrVal(this.content.substring(this.start,this.i));break}if(this.checkClose("onAttrVal"))return}for(;et[this.content[++this.i]];);this.i<e&&!this.checkClose()&&(this.start=this.i,this.state=this.attrName)},lt.prototype.endTag=function(){const t=this.content[this.i];if(et[t]||">"===t||"/"===t){if(this.handler.onCloseTag(this.content.substring(this.start,this.i)),">"!==t&&(this.i=this.content.indexOf(">",this.i),-1===this.i))return;this.start=++this.i,this.state=this.text}else this.i++};const nt=[];const ht=g({name:"mp-html",data:()=>({nodes:[]}),props:{containerStyle:{type:String,default:""},content:{type:String,default:""},copyLink:{type:[Boolean,String],default:!0},domain:String,errorImg:{type:String,default:""},lazyLoad:{type:[Boolean,String],default:!1},loadingImg:{type:String,default:""},pauseVideo:{type:[Boolean,String],default:!0},previewImg:{type:[Boolean,String],default:!0},scrollTable:[Boolean,String],selectable:[Boolean,String],setTitle:{type:[Boolean,String],default:!0},showImgMenu:{type:[Boolean,String],default:!0},tagStyle:Object,useAnchor:[Boolean,Number]},emits:["load","ready","imgtap","linktap","play","error"],components:{node:K},watch:{content(t){this.setContent(t)}},created(){this.plugins=[];for(let t=nt.length;t--;)this.plugins.push(new nt[t](this))},mounted(){this.content&&!this.nodes.length&&this.setContent(this.content)},beforeDestroy(){this._hook("onDetached")},methods:{in(t,e,s){t&&e&&s&&(this._in={page:t,selector:e,scrollTop:s})},navigateTo(t,e){return new Promise(((s,r)=>{if(!this.useAnchor)return void r(Error("Anchor is disabled"));e=e||parseInt(this.useAnchor)||0;const i=uni.createSelectorQuery().in(this._in?this._in.page:this).select((this._in?this._in.selector:"._root")+(t?` #${t}`:"")).boundingClientRect();this._in?i.select(this._in.selector).scrollOffset().select(this._in.selector).boundingClientRect():i.selectViewport().scrollOffset(),i.exec((t=>{if(!t[0])return void r(Error("Label not found"));const i=t[1].scrollTop+t[0].top-(t[2]?t[2].top:0)+e;this._in?this._in.page[this._in.scrollTop]=i:uni.pageScrollTo({scrollTop:i,duration:300}),s()}))}))},getText(t){let e="";return function t(s){for(let r=0;r<s.length;r++){const i=s[r];if("text"===i.type)e+=i.text.replace(/&amp;/g,"&");else if("br"===i.name)e+="\n";else{const s="p"===i.name||"div"===i.name||"tr"===i.name||"li"===i.name||"h"===i.name[0]&&i.name[1]>"0"&&i.name[1]<"7";s&&e&&"\n"!==e[e.length-1]&&(e+="\n"),i.children&&t(i.children),s&&"\n"!==e[e.length-1]?e+="\n":"td"!==i.name&&"th"!==i.name||(e+="\t")}}}(t||this.nodes),e},getRect(){return new Promise(((t,e)=>{uni.createSelectorQuery().in(this).select("#_root").boundingClientRect().exec((s=>s[0]?t(s[0]):e(Error("Root label not found"))))}))},pauseMedia(){for(let t=(this._videos||[]).length;t--;)this._videos[t].pause()},setPlaybackRate(t){this.playbackRate=t;for(let e=(this._videos||[]).length;e--;)this._videos[e].playbackRate(t)},setContent(t,e){e&&this.imgList||(this.imgList=[]);const s=new ot(this).parse(t);if(this.$set(this,"nodes",e?(this.nodes||[]).concat(s):s),this._videos=[],this.$nextTick((()=>{this._hook("onLoad"),this.$emit("load")})),this.lazyLoad||this.imgList._unloadimgs<this.imgList.length/2){let t=0;const e=s=>{s&&s.height||(s={}),s.height===t?this.$emit("ready",s):(t=s.height,setTimeout((()=>{this.getRect().then(e).catch(e)}),350))};this.getRect().then(e).catch(e)}else this.imgList._unloadimgs||this.getRect().then((t=>{this.$emit("ready",t)})).catch((()=>{this.$emit("ready",{})}))},_hook(t){for(let e=nt.length;e--;)this.plugins[e][t]&&this.plugins[e][t]()}}},[["render",function(t,e,s,r,i,a){const o=p("node"),l=D;return f(),m(l,{id:"_root",class:S((s.selectable?"_select ":"")+"_root"),style:C(s.containerStyle)},{default:b((()=>[i.nodes[0]?(f(),m(o,{key:1,childs:i.nodes,opts:[s.lazyLoad,s.loadingImg,s.errorImg,s.showImgMenu,s.selectable],name:"span"},null,8,["childs","opts"])):L(t.$slots,"default",{key:0},void 0,!0)])),_:3},8,["class","style"])}],["__scopeId","data-v-c8accb12"]]);var ct={rgbaToHsla(t){let{r:e,g:s,b:r,a:i}=t;e/=255,s/=255,r/=255;var a,o,l=Math.max(e,s,r),n=Math.min(e,s,r);return(a=l===n?0:l===e?60*(s-r)/(l-n):l===s?60*(2+(r-e)/(l-n)):60*(4+(e-s)/(l-n)))<0&&(a+=360),o=(l+n)/2,{h:a,s:100*(l===n?0:o<.5?(l-n)/(l+n):(l-n)/(2-l-n)),l:100*o,a:i}},hslaToRgba(t){let{h:e,s:s,l:r,a:i}=t;var a,o,l;if(e/=360,s/=100,r/=100,0===s)a=o=l=r;else{let t=function(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+6*(e-t)*s:s<.5?e:s<2/3?t+(e-t)*(2/3-s)*6:t};var n=r<.5?r*(1+s):r+s-r*s,h=2*r-n;a=t(h,n,e+1/3),o=t(h,n,e),l=t(h,n,e-1/3)}return{r:Math.round(255*a),g:Math.round(255*o),b:Math.round(255*l),a:i}},cssToRgba:function(t){if(!t)return{r:0,g:0,b:0,a:0};if((t=t.toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){let e="#";for(let s=1;s<4;s+=1)e+=t.slice(s,s+1).concat(t.slice(s,s+1));t=e}let e=[];for(let s=1;s<7;s+=2)e.push(parseInt("0x"+t.slice(s,s+2)));return{r:e[0],g:e[1],b:e[2],a:1}}if(/^(rgb|RGB|rgba|RGBA)/.test(t)){let e=t.replace(/(?:\(|\)|rgba|rgb|RGB|RGBA)*/g,"").split(",").map((t=>Number(t)));return e.length<3?{r:0,g:0,b:0,a:1}:(3==e.length&&e.push(1),{r:e[0],g:e[1],b:e[2],a:e[3]})}return{r:0,g:0,b:0,a:1}},rgbaToHsva:function(t){if(!t)return{h:0,s:1,v:1,a:1};const e=t.r/255,s=t.g/255,r=t.b/255,i=Math.max(e,s,r),a=Math.min(e,s,r);let o=0;i!==a&&(i===e?o=60*(0+(s-r)/(i-a)):i===s?o=60*(2+(r-e)/(i-a)):i===r&&(o=60*(4+(e-s)/(i-a)))),o<0&&(o+=360);const l=[o,0===i?0:(i-a)/i,i];return{h:l[0],s:l[1],v:l[2],a:t.a}},hsvaToRgba:function(t){var e,s,r,i,a,{h:o,s:l,v:n,a:h}=t,c=0,d=0,u=0;switch(r=n*(1-l),i=n*(1-(s=6*o-(e=Math.floor(6*o)))*l),a=n*(1-(1-s)*l),e%6){case 0:c=n,d=a,u=r;break;case 1:c=i,d=n,u=r;break;case 2:c=r,d=n,u=a;break;case 3:c=r,d=i,u=n;break;case 4:c=a,d=r,u=n;break;case 5:c=n,d=r,u=i}return{r:c,g:d,b:u,a:h}},rgbaToCss:function(t){return`rgba(${t.r},${t.g},${t.b},${t.a})`}},dt=(t=>(t.left="left",t.right="right",t.bottom="bottom",t.top="top",t.leftright="x",t.topbottom="y",t.topleft="top-left",t.topright="top-right",t.bottomleft="bottom-left",t.bottomright="bottom-right",t.all="all",t))(dt||{}),ut=(t=>(t.left="to left",t.right="to right",t.top="to top",t.bottom="to bottom",t.none="",t))(ut||{}),gt=(t=>(t.light="light",t.dark="dark",t.accent="accent",t))(gt||{}),pt=(t=>(t.solid="solid",t.dashed="dashed",t.dotted="dotted",t))(pt||{});let mt=(null==(e=null==(t=null==uni?void 0:uni.$tm)?void 0:t.config)?void 0:e.theme)?d({},uni.$tm.config.theme):{};var ft=[],bt=d({red:"#FE1C00",pink:"#CA145D",purple:"#A61BC3","deep-purple":"#6A0E81",indigo:"#652DF4",blue:"#0163FF","light-blue":"#0889FF",cyan:"#11CDE8",teal:"#00998a",green:"#5DBD1F","light-green":"#83D54A",lime:"#D4ED00",yellow:"#FFC400",amber:"#FFFB01",orange:"#FEA600","deep-orange":"#FE5C00",brown:"#795548","blue-grey":"#607D8B",grey:"#9E9E9E",black:"#000000",white:"#FFFFFF",primary:"#0163FF","grey-5":"#fafafa","grey-4":"#f5f5f5","grey-3":"#eeeeee","grey-2":"#e0e0e0","grey-1":"#bdbdbd","grey-darken-1":"#757575","grey-darken-2":"#616161","grey-darken-3":"#404044","grey-darken-4":"#202022","grey-darken-5":"#111112","grey-darken-6":"#0A0A0B"},mt);for(const Bt in bt)if(Object.prototype.hasOwnProperty.call(bt,Bt)){const t=String(bt[Bt]);if(yt(t)){let e=ct.cssToRgba(t);ft.push({name:Bt,value:t,hsva:ct.rgbaToHsva(ct.cssToRgba(t)),rgba:ct.cssToRgba(t),hsla:ct.rgbaToHsla(e),csscolor:`rgba(${e.r},${e.g},${e.b},${e.a})`})}}function yt(t){return/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)||/^(rgb|RGB|rgba|RGBA)/.test(t)}const vt={isCssColor:yt,themeColors:class{constructor(t=ft){var e;c(this,"symbol"!=typeof(e="colors")?e+"":e,[]),this.colors=t}hasColors(t=""){return this.colors.filter((function(e,s){return e.name==t})).length>0}add(t="",e=""){if(this.colors.filter((function(e,s){return e.name==t})).length>0)return this.colors;if(!e)return console.error("颜色值必填!!!"),this.colors;let s=ct.cssToRgba(e),r={csscolor:"",hsva:{h:0,s:0,v:0,a:0},hsla:{h:0,s:0,l:0,a:0},rgba:{r:0,g:0,b:0,a:0},name:t,value:e};return r.csscolor=ct.rgbaToCss(s),r.hsva=ct.rgbaToHsva(s),r.rgba=s,r.hsla=ct.rgbaToHsla(s),this.colors.push(r),this.colors}del(t){let e=this.colors.findIndex((function(e,s){return e.name==t}));-1!=e?this.colors.splice(e,1):console.error("删除失败，主题中不存在相关名称的主题。")}getColor(t){let e=this.colors.findIndex((function(e,s){return e.name==t}));return-1==e&&(t="primary",e=this.colors.findIndex((function(e,s){return e.name==t})),console.error("主题中不存在相关名称的主题。")),this.colors[e]}getTheme(t={colorname:"primary",dark:!1}){var e,s,r,i;t.colorname||(console.error("颜色名称必填"),t.colorname="primary");let a=this.colors.findIndex((e=>e.name==t.colorname));-1==a&&(console.error("主题不存在，默认为primary"),t.colorname="primary");let o=d({},this.colors[a]);function l(t,e,s){return(2126*t+7152*e+722*s)/1e4<180}t.borderWidth=isNaN(parseInt(String(t.borderWidth)))?0:null!=(e=t.borderWidth)?e:0,t.borderStyle=t.borderStyle?t.borderStyle:"solid",t.borderColor=t.borderColor||"",t.borderDirection=t.borderDirection||dt.all,t.linearDirection=t.linearDirection||ut.none,t.linearDeep=t.linearDeep||gt.light,t.shadow=isNaN(parseInt(String(t.shadow)))?6:t.shadow,t.round=isNaN(parseInt(String(t.round)))?4:t.round,t.opaticy=isNaN(parseInt(String(t.opaticy)))?1:t.opaticy,t.outlined="boolean"==typeof t.outlined&&t.outlined,t.text="boolean"==typeof t.text&&t.text,t.blur="boolean"==typeof t.blur&&t.blur;let n=!1,h=!1,c=!1,g=!1,p=!1;p=l(o.rgba.r,o.rgba.g,o.rgba.b),0==o.hsla.h&&0==o.hsla.s&&0==o.hsla.l&&(n=!0),0==o.hsla.h&&0==o.hsla.s&&100==o.hsla.l&&(h=!0),0==o.hsla.h&&0==o.hsla.s&&o.hsla.l<100&&(g=!0),0==o.hsla.h&&0==o.hsla.s&&(c=!0);let m={};m.color=o.value,m.config=d({},t),m.isBlackAndWhite=c,m.gradientColor=[],m.colorname=t.colorname;let f=d({},o.hsla);m.borderCss={};let b=d({},o.hsla);t.dark&&!c&&(b.l=40),t.blur&&(b.a=.85),m.backgroundColor=ct.rgbaToCss(ct.hslaToRgba(d({},b))),c&&t.dark&&(m.backgroundColor=ct.rgbaToCss(ct.hslaToRgba(u(d({},b),{h:240,s:3,l:8}))),m.border=ct.rgbaToCss(ct.hslaToRgba(u(d({},f),{h:240,s:3,l:12})))),h&&!t.dark&&(m.border=ct.rgbaToCss(ct.hslaToRgba(u(d({},f),{l:90})))),n&&!t.dark&&(m.border=ct.rgbaToCss(ct.hslaToRgba(u(d({},f),{l:12})))),m.backgroundColorCss={"background-color":m.backgroundColor};let y=d({},o.hsla);if(t.dark?y.l=95:y.l=p?95:g?10:20,t.outlined){y.l=o.hsla.l,t.dark?y.l=55:0==o.hsla.h||0==o.hsla.s||l(o.rgba.r,o.rgba.g,o.rgba.b)||(y.l=20),(n||h)&&t.dark&&(y.l=100),t.borderWidth=t.borderWidth||2;let e={h:o.hsla.h,s:o.hsla.s,l:0,a:0},s=ct.rgbaToCss(ct.hslaToRgba(e));m.backgroundColor=s,m.backgroundColorCss={"background-color":s},m.textColor=ct.rgbaToCss(ct.hslaToRgba(y))}if(t.text){y.l=o.hsla.l,g?y.l=15:0==o.hsla.h||0==o.hsla.s||l(o.rgba.r,o.rgba.g,o.rgba.b)||(y.l=20),t.dark&&(y.l=60,c||(y.s=100)),n&&(y.l=90),h&&(y.l=15),0==o.hsla.h&&0==o.hsla.s&&t.dark&&(y.l=90),m.textColor=ct.rgbaToCss(ct.hslaToRgba(y)),m.border=m.textColor;let e=o.csscolor,s={h:o.hsla.h,s:o.hsla.s,l:96,a:o.hsla.a};t.dark&&(0!=o.hsla.h&&0!=o.hsla.s?(s.l=12,s.s=35):(s.l=12,s.s=0)),t.blur&&(s.a=.85),e=ct.rgbaToCss(ct.hslaToRgba(s)),m.backgroundColor=e,m.backgroundColorCss={"background-color":e}}if(t.shadow){let e={h:o.hsla.h,s:100,l:50,a:.2};0==o.hsla.h&&0==o.hsla.s&&(e={h:0,s:0,l:20,a:.07});let s=ct.rgbaToCss(ct.hslaToRgba(e));m.shadowColor={boxShadow:`0rpx ${2.5*t.shadow}rpx ${6*t.shadow}rpx ${s}`}}if(t.linearDirection){let e={h:0,s:0,l:0,a:o.hsla.a},s={h:0,s:0,l:0,a:o.hsla.a},r=ut[t.linearDirection],i=0;i=o.hsla.h<180&&o.hsla.h>0?20:-37,0==o.hsla.h&&0==o.hsla.s&&100==o.hsla.l?"light"==t.linearDeep?(e.l=80,s.l=20):(e.l=50,s.l=40):0==o.hsla.h&&0==o.hsla.s&&0==o.hsla.l?"light"==t.linearDeep?(e.l=40,s.l=10):(e.l=30,s.l=0):(s.h=o.hsla.h,s.s=o.hsla.s,e.h=o.hsla.h,e.s=o.hsla.s,"light"==t.linearDeep?(e.h=e.h,e.s=90,e.l=70,s.l=44):"dark"==t.linearDeep?(s.s=90,s.l=26,e.s=90,e.l=50):"accent"==t.linearDeep&&(e.h-=0,e.s=90,e.l=54,s.h-=i,s.s=90,s.l=54)),t.dark&&(e.l=40,s.l=40,y.l=90);let a=ct.rgbaToCss(ct.hslaToRgba(e)),n=ct.rgbaToCss(ct.hslaToRgba(s));if(!t.text&&!t.outlined){m.backgroundColorCss={"background-image":`linear-gradient(${r},${a},${n})`};let i={h:(e.h+s.h)/2,s:(e.s+s.s)/2,l:(e.l+s.l)/2,a:(e.a+s.a)/2},h=ct.hslaToRgba(i);t.dark||l(h.r,h.g,h.b)||0==o.hsla.h||0==o.hsla.s||(y.l=20),m.backgroundColor=ct.rgbaToCss(ct.hslaToRgba(i)),m.gradientColor=[a,n],m.linearDirectionStr=r}}1==t.dark&&(m=d(d({},m),null!=(i=null==(r=null==(s=uni.$tm.config)?void 0:s.themeConfig)?void 0:r.dark)?i:{})),m.textColor=ct.rgbaToCss(ct.hslaToRgba(y)),t.dark?0==o.hsla.h&&0==o.hsla.s?m.border=ct.rgbaToCss(ct.hslaToRgba(u(d({},o.hsla),{l:12}))):m.border=ct.rgbaToCss(ct.hslaToRgba(u(d({},o.hsla),{l:b.l+10}))):(0==o.hsla.h&&0==o.hsla.s||t.text&&t.outlined?m.border=ct.rgbaToCss(ct.hslaToRgba(u(d({},o.hsla),{l:90}))):!t.text&&t.outlined?m.border=ct.rgbaToCss(ct.hslaToRgba(d({},y))):!t.text&&!t.outlined&&t.borderWidth>0&&(m.border=ct.rgbaToCss(ct.hslaToRgba(u(d({},o.hsla),{l:b.l-3})))),m.border=t.borderColor||m.border);let v=`${t.borderWidth}rpx ${t.borderStyle} ${m.border}`;if("all"==t.borderDirection)m.borderCss.border=v;else if("x"==t.borderDirection||"leftright"==t.borderDirection)m.borderCss["border-left"]=v,m.borderCss["border-right"]=v;else if("y"==t.borderDirection||"topbottom"==t.borderDirection)m.borderCss["border-top"]=v,m.borderCss["border-bottom"]=v;else if("bottomleft"==t.borderDirection)m.borderCss["border-left"]=v,m.borderCss["border-bottom"]=v;else if("bottomright"==t.borderDirection)m.borderCss["border-right"]=v,m.borderCss["border-bottom"]=v;else if("topleft"==t.borderDirection)m.borderCss["border-left"]=v,m.borderCss["border-top"]=v;else if("topright"==t.borderDirection)m.borderCss["border-right"]=v,m.borderCss["border-top"]=v;else{let e="-"+t.borderDirection;m.borderCss[`border${e}`]=v}return m}},getColor:function(t){let e=ft.findIndex((function(e,s){return e.name==t}));return-1==e&&(t="primary",e=ft.findIndex((function(e,s){return e.name==t})),console.warn("主题中不存在相关名称的主题。")),ft[e]}},kt={_style:{type:[Array,String,Object],default:()=>[]},_class:{type:[Array,String],default:""},color:{type:String,default:"primary"},followTheme:{type:[Boolean,String],default:!1},dark:{type:[Boolean,String],default:!1},followDark:{type:[Boolean,String],default:!0},round:{type:[Number,Array],default:0},shadow:{type:[Number],default:0},outlined:{type:[Boolean],default:!1},border:{type:[Number],default:0},borderStyle:{type:String,default:pt.solid},borderDirection:{type:String,default:dt.all},text:{type:[Boolean,String],default:!1},transprent:{type:[Boolean,String],default:!0},transparent:{type:[Boolean,String],default:!0},linear:{type:String,default:""},linearDeep:{type:String,default:"light"},linearColor:{type:[Array],default:()=>[]},isDisabledRoundAndriod:{type:[Boolean,String],default:!1},blur:{type:Boolean,default:!1},borderColor:{type:String,default:""}},xt=(t,e)=>{const s=t.followDark,r=t.dark,i=e.dark;return s?i:r};let Tt=O("setTmVuetifyColor")||"",Ct=O("setTmVuetifyBlack"),wt=O("setTmVuetifyLocal")||"zh-Hans",St=O("colorArrayList"),_t="boolean"==typeof Ct&&Ct,$t=new vt.themeColors;if(St){const t=St.filter((t=>$t.colors.every((e=>e.name!==t.name))));$t=new vt.themeColors([...$t.colors,...t])}const Nt=$t.colors,Dt=null!=(r=null==(s=uni.getSystemInfoSync())?void 0:s.osName)?r:"";B("colorArrayList",Nt);const At=j("tmpinia",{state:()=>({tmStore:{color:Tt,dark:_t,tmVueTifly_pages:"",tmVueTifly_pagesIndex:"",os:Dt,wxshareConfig_miniMp:{title:"",desc:"",imageUrl:"",path:"",copyLink:"",query:{}},colorList:Nt,local:wt}}),actions:{setPageNow(t){this.tmStore=u(d({},this.tmStore),{tmVueTifly_pages:t})},setPageNowIndex(t){this.tmStore=u(d({},this.tmStore),{tmVueTifly_pagesIndex:t})},setTmVuetifyDark(t){B("setTmVuetifyBlack",t="boolean"==typeof t&&t),this.tmStore=u(d({},this.tmStore),{dark:t})},setTmAutoDark(t=!1){if(B("setTmVuetifyAutoDark",t),this.tmuiConfig.autoDark=t,t){let t="";t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",this.setTmVuetifyDark("dark"==t)}},setWxShare(t){let e=t||{};("object"!=typeof e||Array.isArray(t))&&(e={}),this.tmStore=u(d({},this.tmStore),{wxshareConfig_miniMp:d(d({},this.tmStore.wxshareConfig_miniMp),e)})},setTmVuetifyTheme(t){let e=t;e&&""!=e&&!vt.isCssColor(e)||(e=""),B("setTmVuetifyColor",e),this.tmStore=u(d({},this.tmStore),{color:e})},setTmVuetifyAddTheme(t,e,s=!0){this.tmStore=u(d({},this.tmStore),{colorList:$t.add(t,e)}),B("colorArrayList",this.tmStore.colorList),s&&this.setTmVuetifyTheme(t)},setTmLocal(t){B("setTmVuetifyLocal",t=t||"zh-Hans"),this.tmStore=u(d({},this.tmStore),{local:t})}}}),Rt=g(z({__name:"tm-text",props:u(d({},kt),{label:{type:[String,Number],default:""},fontSize:{type:[Number],default:28},color:{type:String,default:""},selectable:{type:[Boolean],default:!1},unit:{type:String,default:"rpx"},parentClass:{type:String,default:""},lineHeight:{type:[Number,String],default:"auto"},aging:{type:Boolean,default:!1}}),emits:["click"],setup(t,{emit:e}){const s=At(),r=t,i=e;uni.getAppBaseInfo();const a=F((()=>r.parentClass)),o=F((()=>s.tmStore)),l=F((()=>(t=>{const e=t._style;if("string"==typeof e){let t=e.split(";").map((t=>{let e={},s=(t=t.replace(";","")).split(":");return e[s[0]]=s[1],e})),s={};return t.forEach((t=>{s=d(d({},s),t)})),s}if("object"==typeof e&&!Array.isArray(e))return e;if("object"==typeof e&&Array.isArray(e)){let t={};return e.forEach((e=>{t=d(d({},t),e)})),t}return{}})(r))),n=F((()=>(t=>{const e=t._class;return"string"==typeof e?e:Array.isArray(e)?e.join(" "):""})(r))),h=F((()=>xt(r,o.value))),c=F((()=>r.label)),u=F((()=>{var t,e,i;return Number(r.fontSize)*(null!=(i=null==(e=null==(t=null==s?void 0:s.tmuiConfig)?void 0:t.themeConfig)?void 0:e.globalFontSizeRatio)?i:1)*1})),g=V("appTextColor",F((()=>{}))),p=F((()=>{if(r.followTheme&&s.tmStore.color)return s.tmStore.color;let t=vt.isCssColor(r.color);if(t)return r.color;if(r.color&&!t){return vt.getColor(r.color).csscolor}return g?g.value?g.value:"rgba(34, 34, 34, 1.0)":h?"rgba(252, 252, 252, 1.0)":"rgba(34, 34, 34, 1.0)"}));return(e,s)=>{const o=_,h=D;return f(),m(h,{"render-whole":!0,class:S(["flex text-view nv",[a.value]])},{default:b((()=>[A(o,{onClick:s[0]||(s[0]=t=>i("click",t)),selectable:t.selectable,"user-select":t.selectable,class:S([t.fontSize?"":"text-size-m",n.value]),style:C(["auto"==r.lineHeight?{lineHeight:(u.value?1.3*u.value:42)+r.unit}:{},r.lineHeight>0?{lineHeight:r.lineHeight+r.unit}:{},{color:p.value},u.value?{fontSize:u.value+r.unit}:"",l.value])},{default:b((()=>[L(e.$slots,"default",{},(()=>[$(N(c.value),1)]),!0)])),_:3},8,["selectable","user-select","class","style"])])),_:3},8,["class"])}}}),[["__scopeId","data-v-45ccf435"]]),It=z({__name:"tm-divider",props:u(d({},kt),{color:{type:String,default:"grey-3"},fontColor:{type:String,default:"grey-1"},fontSize:{type:Number,default:26},vertical:{type:[Boolean],default:!1},height:{type:[Number,String],default:26},label:{type:String,default:""},showLabel:{type:Boolean,default:!1},align:{type:String,default:"center"},margin:{type:Array,default:()=>[16,24]},border:{type:[Number],default:1},realColor:{type:[Boolean],default:!1}}),emits:["click"],setup(t,{emit:e}){const s=At(),r=t,i=e,a=F((()=>r.vertical?"left":"bottom")),o=F((()=>r.label||r.showLabel)),l=F((()=>s.tmStore)),n=F((()=>r.realColor)),h=F((()=>xt(u(d({},r),{borderDirection:a.value}),l.value))),c=F((()=>((t,e,s)=>{var r;const i=t.color,a=t.border,o=t.shadow,l=t.round,n=t.outlined,h=t.text,c=t.borderStyle,d=t.borderDirection,u=t.linear,g=t.linearDeep,p=t.blur;var m=null!=(r=null==t?void 0:t.borderColor)?r:"",f=new vt.themeColors(s.colorList);vt.isCssColor(i)&&!f.hasColors(i)&&(f=new vt.themeColors(f.add(i,i)));let b=i||"primary";return 1==(null==t?void 0:t.followTheme)&&s.color&&(b=s.color,m=""),f.getTheme({colorname:b,dark:e,borderWidth:a,shadow:parseInt(String(o)),round:parseInt(String(l)),outlined:!!n,text:!!h,borderStyle:c,borderDirection:d,linearDirection:u,linearDeep:g,blur:p,borderColor:m})})(u(d({},r),{borderDirection:a.value}),h.value,l.value)));function g(t){i("click",t)}return(e,s)=>{const i=D;return f(),m(i,{onClick:g},{default:b((()=>[!o.value&&r.vertical?(f(),m(i,{key:0,userInteractionEnabled:!1,style:C([{backgroundColor:n.value?c.value.color:c.value.border},r.vertical?{width:r.border+"rpx",height:r.height+"rpx"}:""]),class:S([r.vertical?`mx-${r.margin[0]}`:`my-${r.margin[1]}`])},null,8,["style","class"])):x("",!0),o.value&&!r.vertical?(f(),m(i,{key:1,userInteractionEnabled:!1,class:"flex flex-row flex-center"},{default:b((()=>[A(i,{style:C([c.value?{backgroundColor:n.value?c.value.color:c.value.border,height:r.border+"rpx"}:""]),class:S([`my-${r.margin[1]}`,"left"==t.align?"flex-2":"","right"==t.align?"flex-10":"","center"==t.align?"flex-1":""])},null,8,["style","class"]),o.value?(f(),m(i,{key:0,class:S([h.value?"opacity-4":""])},{default:b((()=>[L(e.$slots,"label",{},(()=>[A(Rt,{fontSize:r.fontSize,dark:h.value,followTheme:r.followTheme,color:r.fontColor,label:r.label,_class:["mx-32"]},null,8,["fontSize","dark","followTheme","color","label"])]))])),_:3},8,["class"])):x("",!0),A(i,{style:C([c.value?{backgroundColor:n.value?c.value.color:c.value.border,height:r.border+"rpx"}:""]),class:S([`my-${r.margin[1]}`,"left"==t.align?"flex-10":"","right"==t.align?"flex-2":"","center"==t.align?"flex-1":""])},null,8,["style","class"])])),_:3})):x("",!0),o.value||r.vertical?x("",!0):(f(),m(i,{key:2,userInteractionEnabled:!1,class:"flex flex-row flex-center"},{default:b((()=>[A(i,{class:S(["flex-1",[`my-${r.margin[1]}`]]),style:C([c.value?{backgroundColor:n.value?c.value.color:c.value.border,height:r.border+"rpx"}:""])},null,8,["class","style"])])),_:1}))])),_:3})}}}),Lt={code:0,message:{id:1,uid:1,sid:0,title:"benachrichtigen",lang:"zh-cn",content:"<p>Systemnachricht: Danke f&uuml;r Ihren Beitritt. Schnall dich an, denn wir gehen gleich in den H&ouml;hepunktmodus. Die vereinbarte Zeit f&uuml;r den Geschlechtsverkehr ist t&auml;glich [11:00-23:00]. Sollten Sie nach der vereinbarten Zeit anreisen, melden Sie sich bitte am n&auml;chsten Tag an der Rezeption. Das Personal steht bereit! Verbindungsschritte: Kontaktieren Sie die Rezeption, w&auml;hlen Sie eine Dame aus und genie&szlig;en Sie nach Abschluss der Aktivit&auml;t kostenloses Dating in derselben Stadt</p>",addtime:1736592561,type:3,is_read:1,read_time:0}},Ot=z({__name:"gonggao",setup(t){const e=E([]);return W((t=>{G("8").then((t=>{e.value=t.content,console.log(t)})).catch((t=>{console.log(t)})),t.id})),(t,e)=>{const s=q(H("tm-html"),ht),r=q(H("tm-divider"),It);return f(),y(v,null,[M("div",{style:{"font-weight":"bolder","margin-top":"10px",color:"white"}},N(P(Lt).message.title),1),M("div",{class:"mt-n10",style:{"font-size":"12px"}},[A(s,{style:{color:"white"},content:P(Lt).message.content},null,8,["content"])]),A(r),M("div",{class:"flex flex-row-center-end"},[M("div",{style:{"text-align":"left",color:"white","margin-top":"30px"}},N(new Date(1e3*P(Lt).message.addtime).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/\//g,"-")),1)])],64)}}});export{Ot as _};
