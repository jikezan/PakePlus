import{d as e,r as l,o as a,v as t,n as o,c as n,e as d,A as u,f as r,t as s,u as i,F as c,a as h,b as m}from"./index-Duwb82h8.js";import{h as v,i as p}from"./user.DzJKUk0Z.js";const y=e({__name:"bankinfo",setup(e){const y=l(!1),k=l(""),g=l(""),b=l(""),x=l(""),V=l("");function w(){return e=this,l=null,a=function*(){let e=uni.getStorageSync("token");try{const l=yield p({username:k.value,id:e,bankname:g.value,cardnum:b.value,bank_branch:x.value,bank_code:V.value});console.log(l),t.success(`${o("yhk.200")}`),setTimeout((()=>{uni.navigateBack()}),2e3)}catch(l){t.error(o(`yhk.${l.code}`))}},new Promise(((t,o)=>{var n=e=>{try{u(a.next(e))}catch(l){o(l)}},d=e=>{try{u(a.throw(e))}catch(l){o(l)}},u=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,d);u((a=a.apply(e,l)).next())}));var e,l,a}return a((()=>{let e=uni.getStorageSync("token");v(e).then((e=>{console.log(e),null!=e.data?(k.value=e.data.username,g.value=e.data.bankname,b.value=e.data.cardnum,x.value=e.data.bank_branch,V.value=e.data.bank_code):y.value=!0})).catch((e=>{console.log(e),t.error(o(`yhk.${e.code}`))}))})),(e,l)=>{const a=h("el-input");return m(),n(c,null,[d("div",{style:{"text-align":"left",width:"100%","max-width":"400px",color:"white"}},[d("div",{style:{"margin-bottom":"20px"}},[d("div",null,s(i(o)("yhk.xm"))+"：",1),r(a,{modelValue:k.value,"onUpdate:modelValue":l[0]||(l[0]=e=>k.value=e),style:{width:"100%"},placeholder:i(o)("qsrnr")},null,8,["modelValue","placeholder"])]),d("div",{style:{"margin-bottom":"20px"}},[d("div",null,s(i(o)("yhk.yhmc"))+"：",1),r(a,{modelValue:g.value,"onUpdate:modelValue":l[1]||(l[1]=e=>g.value=e),style:{width:"100%"},placeholder:i(o)("qsrnr")},null,8,["modelValue","placeholder"])]),d("div",{style:{"margin-bottom":"20px"}},[d("div",null,s(i(o)("yhk.yhkzh"))+"：",1),r(a,{modelValue:b.value,"onUpdate:modelValue":l[2]||(l[2]=e=>b.value=e),style:{width:"100%"},placeholder:i(o)("qsrnr")},null,8,["modelValue","placeholder"])]),d("div",{style:{"margin-bottom":"20px"}},[d("div",null,s(i(o)("yhk.zdm"))+"：",1),r(a,{modelValue:x.value,"onUpdate:modelValue":l[3]||(l[3]=e=>x.value=e),style:{width:"100%"},placeholder:i(o)("qsrnr")},null,8,["modelValue","placeholder"])]),d("div",{style:{"margin-bottom":"20px"}},[d("div",null,s(i(o)("yhk.zdfh"))+"：",1),r(a,{modelValue:V.value,"onUpdate:modelValue":l[4]||(l[4]=e=>V.value=e),style:{width:"100%"},placeholder:i(o)("qsrnr")},null,8,["modelValue","placeholder"])])]),y.value?(m(),n("div",{key:0,onClick:w,style:{"margin-top":"20px"}},[d("div",{style:{width:"300px","border-radius":"10px",background:"linear-gradient(90deg, #df35ad, #4f1db5)",padding:"10px 0"}},[d("div",{style:{width:"100%"}},s(i(o)("yhk.tjyhk")),1)])])):u("",!0)],64)}}});export{y as _};
